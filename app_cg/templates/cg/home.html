<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="icon" href="https://raw.githubusercontent.com/HenriqueTorresA/ContractGenerator/refs/heads/master/app_cg/static/images/stardm.png">
    <style type="text/css">
        /* Fonte personalizada */
        @font-face {
          font-weight: 400;
          font-style: normal;
          font-family: circular;
          src: url('chrome-extension://liecbddmkiiihnedobmlmillhodjkdmb/fonts/CircularXXWeb-Book.woff2') format('woff2');
        }
      
        @font-face {
          font-weight: 700;
          font-style: normal;
          font-family: circular;
          src: url('chrome-extension://liecbddmkiiihnedobmlmillhodjkdmb/fonts/CircularXXWeb-Bold.woff2') format('woff2');
        }
      
        .btn-custom {
          color: white;
          background-color: #4f6da4;
          transition: background-color 0.3s, color 0.3s;
        }
      
        /*.btn-custom:hover {
          background-color: #E3A6F3;
          color: white;
        }*/
      
        /* Estilos do link de logout */
        .logout-container .logout-link {
          color: #4f6da4;
          text-decoration: none;
          font-weight: bold;
          transition: color 0.3s;
        }
      
        .logout-container .logout-link:hover {
          color: #000000;
        }
        /* Estilo para os itens de collapse */
        .btn-custom-collapse {
          color: #4f6da4;
          font-weight: bold;
          text-align: center;
          width: 100%;
          text-decoration: none;
          transition: color 0.3s, background-color 0.3s;
        }
      
        /*.btn-custom-collapse:hover {
          color: white;
          background-color: #E3A6F3;
          text-decoration: none; /* Remove o sublinhado no hover 
        }*/
      
        /* Estilo do conteúdo da seção colapsada */
        .card-body {
          background-color: #f9f9f9;
        }
      
        /* Efeito de hover nos itens do dropdown */
        .dropdown-item.dropdown-hover:hover {
          background-color: #284e81;
          color: black;
        }
        .custom-primary-link {
          background-color: #4f6da4 !important;
          border-color: #4f6da4 !important;
          color: black !important;
          text-align: center !important; 
      }

      .custom-primary-link:hover {
        background-color: #284e81 !important;
        border-color: #284e81 !important;
      }   

</style>
</head>
<body>
{% extends 'cg/base.html' %}
{% block conteudo %}

<div class="content bg-light">
    <div class="container-sm">
      <div class="row align-items-center pt-5">
        <div class="col-sm-4"></div>
        <div class="col-sm-4 text-center">
          <div class="text-center mb-4">
            <h2 class="fw-bold">Gerador de Contratos</h2>
            <hr class="mx-auto" style="width: 50px;">
          </div>
          <h3>Bem-vindo, {{ usuario.nome }}!</h3>
        </div>
        <div class="col-sm-4"></div>
      </div>
      <!-- Accordion para os botões de contrato -->
          <div class="accordion mt-5" id="accordionExample" style="text-align: center">
        <!-- Contrato de Espaço -->
        <div class="card">
          <div class="card-header card-customizado" id="headingOne">
            <h5 class="mb-0">
              <button class="btn btn-primary w-100 custom-primary-link collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne" style="text-decoration: none">
                Espaço de Evento
              </button>
            </h5>
          </div>
          <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="card-body">
              Este formulário permite a geração de um documento para locação do espaço StarDokmus. Clique no botão abaixo para iniciar o processo.
              <div class="mt-2">
                <a href="/tela-de-negociacao/" id="redirecionar">
                  <button class="btn btn-primary custom-primary-link collapsed" type="button" data-bs-toggle="collapse"
                  data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">Contrato de Espaço</button>
                </a>
              </div>
            </div>
          </div>
        </div>
        <!-- Contrato de Decoração -->
        <div class="card">
          <div class="card-header card-customizado" id="headingTwo">
            <h5 class="mb-0">
              <button class="btn btn-primary w-100 custom-primary-link collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" style="text-decoration: none">
                Decoração
              </button>
            </h5>
          </div>
          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
            <div class="card-body">
              Este formulário permite a geração de um documento para decoração de eventos. Clique no botão abaixo para iniciar o processo.
              <div class="mt-2">
                <a href="/tela-de-negociacao-decoracao/" id="redirecionar1">
                  <button class="btn btn-primary custom-primary-link collapsed" type="button" data-bs-toggle="collapse" 
                  data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Contratos de Decoração</button>
                </a>
              </div>
            </div>
          </div>
        </div>
        <!-- Visualizar Contratos Ativos -->
        <div class="card">
          <div class="card-header card-customizado" id="headingThree">
            <h5 class="mb-0">
              <button class="btn btn-primary w-100 custom-primary-link collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="text-decoration: none">
                Consultar Contratos Vigentes
              </button>
            </h5>
          </div>
          <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
            <div class="card-body">
              Esta seção permite a visualização dos contratos dos próximos eventos. Clique no botão abaixo para visualizar.
              <div class="mt-2">
                <a href="/contratos-ativos/">
                  <button class="btn btn-primary custom-primary-link collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Visualizar Contratos Ativos</button>
                </a>
              </div>
            </div>
          </div>
        </div>
        <!-- Visualizar Contratos Vencidos -->
        <div class="card">
          <div class="card-header card-customizado" id="headingFour">
            <h5 class="mb-0">
              <button class="btn btn-primary w-100 custom-primary-link collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour" style="text-decoration: none">
                Consultar Contratos Vencidos
              </button>
            </h5>
          </div>
          <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
            <div class="card-body">
              Esta seção permite a visualização de contratos dos eventos que já se passaram. Clique no botão abaixo para visualizar.
              <div class="mt-2">
                <a href="/contratos-vencidos/" id="redirecionar2">
                  <button class="btn btn-primary custom-primary-link collapsed" type="button" data-bs-toggle="collapse" 
                  data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">Visualizar Contratos Vencidos</button>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Cadastro de templates -->
        <div class="card">
          <div class="card-header card-customizado" id="headingTemplates">
            <h5 class="mb-0">
              <button class="btn btn-primary w-100 custom-primary-link collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTemplates" aria-expanded="false" aria-controls="collapseTemplates" style="text-decoration: none">
                Gerenciar Templates
              </button>
            </h5>
          </div>
          <div id="collapseTemplates" class="collapse" aria-labelledby="headingTemplates" data-bs-parent="#accordionExample">
            <div class="card-body">
              Cadastro / Visualização de templates (leiautes para os contratos)
              <div class="mt-2">
                <a href="/templates/" id="redirecionar-templates">
                  <button class="btn btn-primary custom-primary-link collapsed" type="button" data-bs-toggle="collapse" 
                  data-bs-target="#collapseTemplates" aria-expanded="false" aria-controls="collapseTemplates">Gerenciar Templates</button>
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-2">
            {% if usuario.permissoes in 'gestor admin' %}
                <a href="{% url 'lista_usuarios' %}">
                  <div class="container-fluid">
                    <a class="btn btn-primary custom-primary-link w-100" href="{% url 'lista_usuarios' %}" id="redirecionar3"
                    role="button">Gerenciar Usuários</a>
                </div>  
                </a>
            {% endif %}
        </div>
      </div>
      <!-- Logout -->
      <div class="logout-container" style="text-align: center; margin-top: 20px;">
        <a href="{% url 'logout' %}" class="logout-link">Sair</a>
      </div>
    </div>

    <div class="position-fixed top-50 start-50 translate-middle">
      <div id="spinner" class="spinner-border text-dark" role="status" style="display: none;">
          <span class="visually-hidden">Loading...</span>
    </div>
  </div>
  </div>
  <script>
    document.getElementById("redirecionar").addEventListener("click", function(event) {
        event.preventDefault(); // Impede o redirecionamento imediato
        document.getElementById("spinner").style.display = "inline-block"; // Exibe o spinner
        
        // Aguarda um tempo antes de redirecionar
        setTimeout(() => {
            window.location.href = this.href;
        }, 500);  // Ajuste o tempo conforme necessário
    });

    document.getElementById("redirecionar1").addEventListener("click", function(event) {
        event.preventDefault();
        document.getElementById("spinner").style.display = "inline-block";
        
        setTimeout(() => {
            window.location.href = this.href;
        }, 500);
    });

    document.getElementById("redirecionar2").addEventListener("click", function(event) {
        event.preventDefault();
        document.getElementById("spinner").style.display = "inline-block";
        
        setTimeout(() => {
            window.location.href = this.href;
        }, 500);
    });

    document.getElementById("redirecionar-templates").addEventListener("click", function(event) {
        event.preventDefault();
        document.getElementById("spinner").style.display = "inline-block";
        
        setTimeout(() => {
            window.location.href = this.href;
        }, 500);
    });

    document.getElementById("redirecionar3").addEventListener("click", function(event) {
        event.preventDefault();
        document.getElementById("spinner").style.display = "inline-block";
        
        setTimeout(() => {
            window.location.href = this.href;
        }, 500);
    });

    window.addEventListener("pageshow", function() {
      document.getElementById("spinner").style.display = "none";
    });
  </script>
    
{% endblock %}
</body>